@using System.Web;

@model Paragraph.Services.DataServices.Models.Article.ArticleViewModel

@{
    ViewData["Title"] = "Details";
    ViewData["Id"] = Model.Id;

    var tags = this.ViewData["Tags"] as IEnumerable<SelectListItem>;
}

<h2>@Model.Title</h2>

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Content
        </dt>
        <dd>
            @Html.DisplayFor(model => model.HtmlContent)
        </dd>
        <dt>
            Category
        </dt>
        <dd>

            @Html.DisplayFor(model => model.CategoryName)
        </dd>
        <dt>
            Tags
        </dt>
        <dd>
            @foreach (var tag in Model.TagNames)
            {
                <a class="btn btn-default" asp-controller="Tag" asp-action="Details" asp-route-id="@tag.Id">@tag.Name</a> 
            }
        </dd>
    </dl>
</div>
<div>

    @if (this.User.IsInRole("Admin") || this.User.IsInRole("Writer"))
    {
        <a asp-controller="Article" asp-action="Edit" asp-route-id="@Model.Id">Edit</a> @:|
        @*<a asp-controller="Article" asp-action="Delete" asp-route-id="@Model.Id">Delete</a> @:|*@
    }
    <a asp-controller="Home" asp-action="Index">See other articles</a>

    @if (this.User.IsInRole("Admin") || this.User.IsInRole("Moderator"))
    { 
        <hr />
    <partial name="Tag/AddTag" model="@Model.AddTagModel" view-data="ViewData" />
    }


</div>

<br/>
<br/>
<hr/>

<partial name="Comment/AllComments" model="@Model.Comments" view-data="ViewData" />

@if(this.User.Identity.IsAuthenticated)
{
<partial name="Comment/AddComment" model="@Model.AddCommentModel" view-data="ViewData" />
}






   


